# app.py
import streamlit as st
import json
from pathlib import Path

st.set_page_config(page_title="ì‹¤ë§ˆë¦¬ â€” í™ˆ", page_icon="ğŸ§¶", layout="centered")

st.title("ğŸ§¶ ì‹¤ë§ˆë¦¬ (ThreadSense)")
st.markdown("""
ë„ì•ˆì„ ì—…ë¡œë“œí•˜ê³  ì›í•˜ëŠ” ë„ì›€ ê¸°ëŠ¥ì„ ì„ íƒí•˜ì„¸ìš”.
- **í˜ì´ì§€ 2**: ëœ¨ê°œ ì•½ì–´ ì‚¬ì „  
- **í˜ì´ì§€ 3**: ì°¨íŠ¸ ê¸°í˜¸ ì‚¬ì „  
- **í˜ì´ì§€ 4**: (ì—…ë¡œë“œ í›„) í•„ìš” ê¸°ìˆ /ì•½ì–´ ì„¤ëª… ì •ë¦¬  
- **í˜ì´ì§€ 5**: (ì—…ë¡œë“œ í›„) ì„œìˆ í˜• ë„ì•ˆ ì„¤ëª…  
- **í˜ì´ì§€ 6**: (ì—…ë¡œë“œ í›„) ì½”ìˆ˜ ì¶”ì /ì²´í¬  
""")

# í•˜ì´í¼ë§í¬(ìŠ¤íŠ¸ë¦¼ë¦¿ ë‚´ì¥ page_link ì‚¬ìš©) â€” ìµœì‹  ë²„ì „ ê¶Œì¥
st.page_link("pages/2_ëœ¨ê°œ_ì•½ì–´_ì‚¬ì „.py", label="â¡ í˜ì´ì§€ 2ë¡œ ì´ë™ (ëœ¨ê°œ ì•½ì–´ ì‚¬ì „)")
st.page_link("pages/3_ì°¨íŠ¸_ê¸°í˜¸_ì‚¬ì „.py", label="â¡ í˜ì´ì§€ 3ë¡œ ì´ë™ (ì°¨íŠ¸ ê¸°í˜¸ ì‚¬ì „)")

st.divider()
st.header("ë„ì•ˆ ì—…ë¡œë“œ (PDF, JPEG, PNG)")
upl = st.file_uploader("íŒŒì¼ì„ ì—…ë¡œë“œí•˜ì„¸ìš”", type=["pdf","png","jpg","jpeg"])
if upl is not None:
    st.success(f"ì—…ë¡œë“œ ì™„ë£Œ: {upl.name}")
    # ì„¸ì…˜ì— ì €ì¥ (ë‹¤ë¥¸ í˜ì´ì§€ì—ì„œ ì‚¬ìš©)
    st.session_state["uploaded_name"] = upl.name
    st.session_state["uploaded_bytes"] = upl.read()

st.subheader("ì—…ë¡œë“œ í›„ ì›í•˜ëŠ” ê¸°ëŠ¥ìœ¼ë¡œ ì´ë™")
col1,col2,col3 = st.columns(3)
with col1:
    st.page_link("pages/4_í•„ìš”ê¸°ìˆ _ì•½ì–´_ì„¤ëª….py", label="í˜ì´ì§€ 4: í•„ìš”ê¸°ìˆ /ì•½ì–´ ì„¤ëª…")
with col2:
    st.page_link("pages/5_ì„œìˆ í˜•_ì„¤ëª….py", label="í˜ì´ì§€ 5: ì„œìˆ í˜• ì„¤ëª…")
with col3:
    st.page_link("pages/6_ì½”ìˆ˜_ì¶”ì _ì²´í¬.py", label="í˜ì´ì§€ 6: ì½”ìˆ˜ ì¶”ì /ì²´í¬")

st.caption("â€» í˜ì´ì§€ 4~6ì€ ì—…ë¡œë“œê°€ í•„ìš”í•©ë‹ˆë‹¤.")